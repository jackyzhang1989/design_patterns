Memento pattern

cache state to support undo